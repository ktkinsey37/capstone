{% extends 'base.html' %}

{% block content %}

{% if location %}
 <h1>{{ location.name }}</h1>

 {% else %}

<h1>{{ location.latitude, location.longitude }}</h1>

{% endif %}
{% if location.is_snowy %}
Alpine area
{% endif %}

{% if location.is_desert %}
Desert area
{% endif %}

<div class="container col-10 remove-all-margin-padding">
<table style="text-align: center;">
  <tr>
    <th>Timestamp</th>
    <th>Hrs sun</th>
    <th>Hrs cloudy</th>
    <th>Hrs precip</th>
    <th>Total precip (in)</th>
    <th>Avg precip (in/hr)</th>
    <th>Avg temp F</th>
    <th>High temp F</th>
    <th>Avg windspeed</th>
    <th>High windspeed</th>
    <th>Assessment</th>
    <th>User report</th>
  </tr> 
  <tr>
    <td>{{ app_backcast.timestamp }}</td>
    <td>{{ app_backcast.sun_count }}</td>
    <td>{{ app_backcast.cloud_count }}</td>
    <td>{{ app_backcast.precip_count }}</td>
    <td>{{ app_backcast.total_precip }}</td>
    <td>{{ app_backcast.avg_precip }}</td>
    <td>{{ app_backcast.avg_temp }}</td>
    <td>{{ app_backcast.high_temp }}</td>
    <td>{{ app_backcast.avg_wind }}</td>
    <td>{{ app_backcast.high_wind }}</td>
    <td>{{ app_backcast.assessment }}</td>
    <td>{{ app_backcast.user_report }}</td>
  </tr>
</table>
</div>

<div class="container remove-all-margin-padding">

  {% for day in backcast %}
  <div id="day-box" class="container">

  <div class="hour_by_hour_box" style="display:block-inline">
    {% if day['hours'][1] %}
  <p>{{ day.date }}</p>
  
  <table>
      <tr style="text-align: center;">
        <th>Hour</th>
        <th>Condition</th>
        <th>Temp</th>
        <th>Precip (in)</th>
      </tr>
      {% for hour in day['hours'] %}
      <tr style="text-align: center;">
        <td>{{hour.time}}</td>
        <td>{{hour.condition}}</td>
        <td>{{hour.temp}}</td>
        <td>{{hour.precip}}</td>
      </tr>
      {% endfor %}
      
    </table>
  
    {% endif %}
  </div>
  
  
  
  {% endfor %}
</div>
</div>

<button class="btn btn-outline-primary btn-sm" id='show'>Show hourly report</button>
<button class="btn btn-outline-primary btn-sm" id='hide'>Hide hourly report</button>
<br><br>
<form method="GET" action="/">
  <button class="btn btn-outline-primary btn-sm">Home</button>
</form>
<br>
<form method="GET" action="/popular_locations">
    <button class="btn btn-outline-primary btn-sm">Return to popular locations</button>
</form>

<link rel="stylesheet" href="{{ url_for('static', filename='backcast.css') }}">
<script src="{{ url_for('static', filename='backcast.js') }}"></script>
{% endblock %}
